{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% load widget_tweaks %}

{% block title %}{% trans "Создание вакансии" %} | eWork{% endblock %}

{% block content %}
{% with WIGGET_ERROR_CLASS="is-invalid" WIGET_REQUIRED_CLASS="my_required" %}

<form method="POST" enctype="multipart/form-data" id="jobPostForm" hx-post="{% url 'jobs:job_create' %}" hx-encoding="multipart/form-data" hx-indicator="#form-indicator">
    {% csrf_token %}

    <div class="px-5 my-3 text-center">
        <h5 class="mb-0">{% trans "Новая вакансия" %}</h5>
    </div>

    <!-- Основная информация -->
    <div class="mb-3">
        <label for="{{ form.title.id_for_label }}" class="form-label">{% trans "Название вакансии" %}</label>
        {% render_field form.title class="form-control" placeholder="Укажите название вакансии" %}
        <div class="invalid-feedback">{{ form.title.errors|first }}</div>
    </div>

    <div class="mb-3">
        <label for="{{ form.description.id_for_label }}" class="form-label">{% trans "Описание вакансии" %}</label>
        {% render_field form.description class="form-control" placeholder="Укажите описание вакансии" %}
        <div class="invalid-feedback">{{ form.description.errors|first }}</div>
    </div>

    <!-- Финансовая информация -->
    <div class="row mb-3">
        <div class="col-8">
            <label for="{{ form.price.id_for_label }}" class="form-label">{% trans "Оплата" %}</label>
            {% render_field form.price class="form-control" placeholder="Укажите оплату" %}
            <div class="invalid-feedback">{{ form.price.errors|first }}</div>
        </div>
        <div class="col-4">
            <label for="{{ form.currency.id_for_label }}" class="form-label">{% trans "Валюта" %}</label>
            {% render_field form.currency class="form-control" %}
            <div class="invalid-feedback">{{ form.currency.errors|first }}</div>
        </div>
    </div>

    <!-- Город -->
    <div class="mb-3">
        <label for="{{ form.city.id_for_label }}" class="form-label">{% trans "Город" %}</label>
        {% render_field form.city class="form-control" %}
        <div class="invalid-feedback">{{ form.city.errors|first }}</div>
    </div>

    <!-- Рубрика -->
    <div class="mb-3">
        <label for="{{ form.sub_rubric.id_for_label }}" class="form-label">{% trans "Рубрика" %}</label>
        {% render_field form.sub_rubric class="form-control" %}
        <div class="invalid-feedback">{{ form.sub_rubric.errors|first }}</div>
    </div>

    <!-- Детали работы -->
    <div class="mb-3">
        <label for="{{ form.experience.id_for_label }}" class="form-label">{% trans "Опыт работы" %}</label>
        {% render_field form.experience class="form-control" placeholder="Укажите опыт работы" %}
        <div class="invalid-feedback">{{ form.experience.errors|first }}</div>
    </div>

    <div class="mb-3">
        <label for="{{ form.work_schedule.id_for_label }}" class="form-label">{% trans "График работы" %}</label>
        {% render_field form.work_schedule class="form-control" %}
        <div class="invalid-feedback">{{ form.work_schedule.errors|first }}</div>
    </div>

    <div class="mb-3">
        <label for="{{ form.work_format.id_for_label }}" class="form-label">{% trans "Формат работы" %}</label>
        {% render_field form.work_format class="form-control"%}
        <div class="invalid-feedback">{{ form.work_format.errors|first }}</div>
    </div>

    <h5> 

    </h5>


    <!-- Кнопки управления -->
    <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-5">
        <a href="javascript:history.back()" class="btn btn-outline-secondary">{% trans "Отмена" %}</a>
        <button type="submit" class="btn btn-primary">{% trans "Опубликовать" %}</button>
    </div>
</form>

{% endwith %}
{% endblock %}

{% block extra_scripts %}

{% endblock %}
